<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Axis Range, Breaks, and Ordering</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Data Visualization</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Intro</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Refinements
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="TitleLabels.html">Title Labels (Big/Outer/Axis)</a>
    </li>
    <li>
      <a href="CatAndNumDisplay.html">Category &amp; Numeric Display</a>
    </li>
    <li>
      <a href="AxisRange.html">Axis Range, Breaks, and Ordering</a>
    </li>
    <li>
      <a href="subsets.html">Subsets</a>
    </li>
    <li>
      <a href="themes.html">Themes</a>
    </li>
    <li>
      <a href="facets.html">Facets</a>
    </li>
    <li class="dropdown-header">Legends</li>
    <li class="dropdown-header">Annotations</li>
    <li class="dropdown-header">Position Adjustments</li>
    <li class="dropdown-header">Adding Summary Statistics</li>
    <li class="dropdown-header">Adjusting Non-Color Aesthetics</li>
    <li class="dropdown-header">Color</li>
    <li class="dropdown-header">Interactvity</li>
  </ul>
</li>
<li>
  <a href="WranglingDataIntro.html">Wranging Data</a>
</li>
<li>
  <a href="markdown.html">Markdown Help</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Axis Range, Breaks, and Ordering</h1>

</div>


<p>This section looks at ways of adjusting the overall scale of each
axis (e.g. instead of going from 0 to 100 going from 40 to 60) as well
as reversing the order (e.g. instead of going from 1 to 100 going from
100 to 1).</p>
<pre class="r"><code>default = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Default&quot;, y = &quot;&quot;)

clipped = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Range&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(limits = c(5000, 15000)))

breaksMajor = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Major Breaks&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(2000)),
            scale_y_continuous(breaks = c(0,7500,15000)))

reverse = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Reverse Scale&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_reverse())

grid.arrange(default, clipped, breaksMajor, reverse, ncol = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div id="adjusting-axis-range" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Adjusting Axis
Range</h1>
<div id="beyond-the-data-range" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Beyond the Data
Range</h2>
<p>If you are adjusting the axis range beyond the data - you can use the
gf_lims( ) command to adjust. This is most helpful when you’re trying to
match axis to compare.</p>
<p><strong>Example:</strong> gf_lims(x=c(0,10), y = c(10,100))</p>
<p>The following dotplots are OK, but it might be helpful to match up
the equivalent feet to meter measurement so the 43 ft and 13.1 meters
align.</p>
<pre class="r"><code>feetDefault = gf_dotplot(~GuessedLength, data = subset(lengths, Unit == &quot;Feet&quot;), binwidth = 1, alpha = 0.3) %&gt;%
  gf_labs(x = &quot;Guessed Feet&quot;, title = &quot;Guessed Feet&quot;, y = NULL) %&gt;%
  gf_vline(xintercept = 43, alpha = 0.7, linetype = &quot;dashed&quot;) %&gt;%
  gf_text(x = 44, y = .75, label = &quot;Actual Length = 43 ft&quot;, hjust = -0.1, size = 4) %&gt;%
  gf_theme(axis.text.y = element_blank(), axis.ticks.y = element_blank()) 

# Meter graph

meterDefault = gf_dotplot(~GuessedLength, data=subset(lengths, Unit == &quot;Meter&quot;), binwidth = 0.5, alpha = 0.3) %&gt;%
  gf_labs(x = &quot;Guessed Meters&quot;, title = &quot;Guessed Meters&quot;, y = NULL) %&gt;%
  gf_vline(xintercept = 13.1, alpha = 0.7, linetype = &quot;dashed&quot;) %&gt;%
  gf_text( x = 14, y = .75, label = &quot;Actual Length = 13.1 m&quot;, hjust=-0.1, size = 4) %&gt;%
  gf_theme(axis.text.y = element_blank(), axis.ticks.y = element_blank())

grid.arrange(feetDefault, meterDefault, nrow = 2)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>In the dotplots below, the axis are adjusted so they span the same
equivalent space. It is more clear that the 43 ft = 13.1 meters.</p>
<pre class="r"><code>feet = gf_dotplot(~GuessedLength, data = subset(lengths, Unit == &quot;Feet&quot;), binwidth = 2, alpha = 0.3) %&gt;%
  gf_labs(x = &quot;Guessed Feet&quot;, title = &quot;Guessed Feet: Adjusted&quot;, y = NULL) %&gt;%
  gf_lims(x = c(0, 147)) %&gt;%
  gf_vline(xintercept = 43, alpha = 0.7, linetype = &quot;dashed&quot;) %&gt;%
  gf_text(x = 44, y = .75, label = &quot;Actual Length = 43 ft&quot;, hjust = -0.1, size = 4) %&gt;%
  gf_theme(axis.text.y = element_blank(), axis.ticks.y = element_blank()) 

# Meter graph

meter = gf_dotplot(~GuessedLength, data=subset(lengths, Unit == &quot;Meter&quot;), binwidth = 0.5, alpha = 0.3) %&gt;%
  gf_labs(x = &quot;Guessed Meters&quot;, title = &quot;Guessed Meters: Adjusted&quot;, y = NULL) %&gt;%
  gf_refine(coord_cartesian(xlim = c(0, 45))) %&gt;%
  gf_vline(xintercept = 13.1, alpha = 0.7, linetype = &quot;dashed&quot;) %&gt;%
  gf_text( x = 14, y = .75, label = &quot;Actual Length = 13.1 m&quot;, hjust=-0.1, size = 4) %&gt;%
  gf_theme(axis.text.y = element_blank(), axis.ticks.y = element_blank())

grid.arrange(feet, meter, nrow = 2)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="within-data-range" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Within Data
Range</h2>
<p>If we are adjusting axis within the range of data, we need to be
careful what we do with points that fall outside that range. For
example, do we want to just ignore them and zoom in or do we want to
essentially omit them from the dataset/consideration.</p>
<p>There are 2 ways of adjusting axis scales (in terms of how they treat
data). One way is called “without clipping” where all data is preserved,
but we adjust the axis to essentially zoom in or out while keeping all
data preserved. Alternatively, we can adjust “with clipping” where all
data not in the area specified is no longer accounted for. This will
matter if you’re overlaying things like linear model trendlines. The
images below come from the ggplot2 cheat-sheet and I think illustrate
things well.</p>
<p><img src="NoClipping.jpg" alt="No Clipping" /> <img
src="WithClipping.jpg" alt="With Clipping" /></p>
<div id="adjust-scales-without-clipping" class="section level3"
number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Adjust Scales
Without Clipping</h3>
<p>To adjust scales without removing unseen data points, use a
gf_refine( ) statement with coord_cartesian( ) specifications.</p>
<p><strong>Example:</strong> gf_plot( ) %&gt;%
gf_refine(coord_cartesian(xlim = c(0, 100), ylim = c(10, 20)))</p>
<div class="float">
<img src="NoClipping.jpg" alt="No Clipping" />
<div class="figcaption">No Clipping</div>
</div>
<pre class="r"><code>original = gf_point(Salary~Age, data = SalaryGender, color = ~as.factor(PhD)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, title = &quot;All Data&quot;) %&gt;%
  gf_refine(scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;))) %&gt;%
  gf_lm() %&gt;%
  gf_theme(guides(color = guide_legend(reverse = TRUE))) %&gt;%
  gf_theme(legend.position = c(0.2, 0.9))

noclipping = gf_point(Salary~Age, data = SalaryGender, color = ~as.factor(PhD)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, title = &quot;Zoom In Without Clipping&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    coord_cartesian(xlim = c(40, 80))) %&gt;%
  gf_lm() %&gt;%
  gf_theme(guides(color = guide_legend(reverse = TRUE))) %&gt;%
  gf_theme(legend.position = c(0.2, 0.9))

grid.arrange(original, noclipping, nrow = 1)</code></pre>
<pre><code>## Warning: Using the `size` aesthetic with geom_line was deprecated in ggplot2 3.4.0.
## ℹ Please use the `linewidth` aesthetic instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="adjust-scales-with-clipping" class="section level3"
number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Adjust Scales With
Clipping</h3>
<p>There are a few ways you can adjust the scales with clipping. For
example, you can merely create a subset and only use that data (by
default, clipping out the other data). Alternatively you can use a
gf_lims( ) command OR a scale_x_continuous( ) command within a refine
statement.</p>
<div class="float">
<img src="WithClipping.jpg" alt="With Clipping" />
<div class="figcaption">With Clipping</div>
</div>
<p><strong>Option 1:</strong> gf_lims(x = c(40,80)) or gf_lims(x = c(65,
NA), y = c(3, NA))</p>
<p><strong>Option 2:</strong> gf_refine(scale_x_continuous(limits =
c(40,80)))</p>
<pre class="r"><code>clipping1 = gf_point(Salary~Age, data = SalaryGender, color = ~as.factor(PhD)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, title = &quot;Zoom In With Clipping&quot;, subtitle = &quot;Using gf_lims()&quot;) %&gt;%
  gf_refine(scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;))) %&gt;%
  gf_lm() %&gt;%
  gf_lims(x = c(40,80)) %&gt;%
  gf_theme(guides(color = guide_legend(reverse = TRUE))) %&gt;%
  gf_theme(legend.position = c(0.2, 0.9))

grid.arrange(noclipping, clipping1, nrow = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>clipping2 = gf_point(Salary~Age, data = SalaryGender, color = ~as.factor(PhD)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, title = &quot;Zoom In With Clipping&quot;, subtitle = &quot;Using gf_refine()&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    scale_x_continuous(limits = c(40,80))) %&gt;%
  gf_lm()%&gt;%
  gf_theme(guides(color = guide_legend(reverse = TRUE))) %&gt;%
  gf_theme(legend.position = c(0.2, 0.9))

grid.arrange(noclipping, clipping1, clipping2, nrow = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
</div>
</div>
<div id="adjusting-categorical-scales" class="section level2"
number="1.3">
<h2><span class="header-section-number">1.3</span> Adjusting Categorical
Scales</h2>
<p>Adjusting an axis if we have categorical data can be done the same
way we adjust a no-clipping continuous axis, but have to realize that
the first category on our x-axis is at 1. So the boxplot (below) has a
default x-range from (1,2). If we want to have a wider range, we can
spread to (0,3).</p>
<p><strong>Example:</strong> gf_refine(coord_cartesian(xlim =
c(0,3)))</p>
<pre class="r"><code>SalaryGender$Gender = recode(SalaryGender$Gender, &#39;0&#39; = &quot;Female&quot;, &#39;1&#39; = &quot;Male&quot;)

noshift = gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Default Range&quot;) %&gt;%
  gf_refine(scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;))) 

spread = gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Spread X Axis Out&quot;) %&gt;%
  gf_refine(scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    coord_cartesian(xlim = c(0,3))) 

grid.arrange(noshift, spread, ncol = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>If you wanted to add a space for another label, one can be added
through the scale_*_discrete command.</p>
<p><strong>EXample:</strong> scale_x_discrete(limits = c(“Female”,
“Male”, “Additional Label”))</p>
<pre class="r"><code>gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Additional Label Added&quot;) %&gt;%
  gf_refine(scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
            scale_x_discrete(limits = c(&quot;Female&quot;, &quot;Male&quot;, &quot;Additional Label&quot;))) </code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="exapanding-visual-range" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Exapanding Visual
Range</h2>
<p>In addition to all methods of adjusting the axis ranges, we can also
adjust the plot field using the exapnd option in scale_*<em>continuous
or scale</em>*_discrete.</p>
<p><strong>Example (discrete):</strong> scale_x_discrete(expand =
expansion(add = 2))</p>
<p><strong>Example (continuous):</strong> scale_y_continuous(exapnd =
expansion(add = 10))</p>
<pre class="r"><code>gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Spread X &amp; Y Axis Out&quot;) %&gt;%
  gf_refine(scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
            scale_x_discrete(expand = expansion(add = 2)),
            scale_y_continuous(expand = expansion(add = 50)))</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>For more details, the <a
href="https://ggplot2-book.org/scales-position">ggplot book</a> also
describes adjusting scales in a variety of ways.</p>
</div>
</div>
<div id="breaks" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Breaks</h1>
<p>To adjust scale breaks, use the breaks command inside the
scale_XXX_continuous command.</p>
<p>Most breaks will likely be what are known as “major breaks” (the
numbers on the axis). One can also adjust the minor breaks (reference
lines within the graph).</p>
<div id="adjust-major-breaks" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Adjust Major
Breaks</h2>
<p>A few ways to adjust major breaks include specifying a sequence of
values (or other function of values), manually entering values, or
specifying the width of the breaks. Here are a few highlights to each of
these methods:</p>
<p><strong>Sequence:</strong> gf_refine(scale_x_continuous(breaks =
c(seq(1:13))))</p>
<p><strong>Specific Values:</strong> gf_refine(scale_x_continuous(breaks
= c(1950, 2000)))</p>
<p><strong>Specific width:</strong> scale_x_continuous(breaks =
breaks_width(2000))</p>
<p><strong>Specific width with offset:</strong>
scale_x_continuous(breaks = breaks_width(2000, offset = 100))</p>
<pre class="r"><code>gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Breaks as Sequence&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    scale_y_continuous(breaks = c(seq(0,200, by = 20))))</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<pre class="r"><code>gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5)) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Breaks Specific Values&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    scale_y_continuous(breaks = c(0, 100, 150)))</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-11-2.png" width="672" /></p>
<pre class="r"><code>noOffset = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Major Breaks&quot;, subtitle = &quot;breaks_width: No offset&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(4000)),
            scale_y_continuous(breaks = c(0,7500,15000)))

offsetPos = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Major Breaks&quot;, subtitle = &quot;breaks_width with offset +500&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(4000, offset = 500)),
            scale_y_continuous(breaks = c(0,7500,15000)))

offsetNeg = gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Major Breaks&quot;, subtitle = &quot;breaks_width with offset -500&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(4000, offset = -500)),
            scale_y_continuous(breaks = c(0,7500,15000)))

grid.arrange(noOffset, offsetPos, offsetNeg)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-11-3.png" width="672" /></p>
</div>
<div id="adjust-minor-breaks" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Adjust Minor
Breaks</h2>
<pre class="r"><code>gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Minor Breaks (X Axis)&quot;, subtitle = &quot;Specific Values&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(10000), minor_breaks = c(3000,7000,15000)),
            scale_y_continuous(breaks = c(0,7500,15000))) %&gt;%
  gf_theme(theme_minimal())</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="r"><code>gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Minor Breaks (Y Axis)&quot;, subtitle = &quot;Sequence of Values&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(4000)),
            scale_y_continuous(breaks = c(0,7500,15000), minor_breaks = seq(0,20000, by = 2000))) %&gt;%
  gf_theme(theme_minimal())</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<pre class="r"><code>gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Minor Breaks (X Axis)&quot;, subtitle = &quot;breaks_width&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(4000), minor_breaks = breaks_width(1000)),
            scale_y_continuous(breaks = c(0,7500,15000))) %&gt;%
  gf_theme(theme_minimal())</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-12-3.png" width="672" /></p>
<pre class="r"><code>gf_histogram(~price, data = diamonds) %&gt;%
  gf_labs(title = &quot;Adjust Minor Breaks (Both Axis)&quot;, subtitle = &quot;minor_breaks_n&quot;, y = &quot;&quot;) %&gt;%
  gf_refine(scale_x_continuous(breaks = breaks_width(4000), minor_breaks = minor_breaks_n(2)),
            scale_y_continuous(breaks = c(0,7500,15000), minor_breaks = minor_breaks_n(10))) %&gt;%
  gf_theme(theme_minimal())</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-12-4.png" width="672" /></p>
</div>
<div id="binned-scales" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Binned Scales</h2>
<p>If you have numeric scales and want to bin the scales, there are a
few ways you can approach this. You can bin (or “cut”) the data itself,
manually create categories, or you can just bin the axis. Examples can
be found in the <a
href="https://ggplot2-book.org/scales-position">ggplot</a> book.</p>
</div>
</div>
<div id="reverse-scales" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Reverse Scales</h1>
<p>Reversing scales will have different codes based on the type of data
you have. The general code to reverse scales is:</p>
<p><strong>Continuous:</strong> gf_refine( scale_y_reverse( ) )</p>
<p><strong>Discrete:</strong> gf_refine( scale_y_discrete( limits = rev
) )</p>
<pre class="r"><code>original = gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5), show.legend = FALSE) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Original&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;))) 

y.reverse = gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5), show.legend = FALSE) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender&quot;, title = &quot;Reverse Y&quot;, subtitle = &quot;scale_y_reverse()&quot;, y = &quot;Salary (reversed)&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    scale_y_reverse()) # Reverse Y axis continuous scale

grid.arrange(original, y.reverse, nrow = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre class="r"><code>x.reverse = gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5), show.legend = FALSE) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender (reversed)&quot;, title = &quot;Reverse X&quot;, subtitle = &quot;scale_x_discrete(limits = rev)&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    scale_x_discrete(limits = rev)) # Reverse X axis discrete scale

grid.arrange(original, x.reverse, ncol = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
<pre class="r"><code>both.reverse = gf_boxplot(Salary~Gender, data = SalaryGender, color = ~as.factor(PhD), width = 0.4, position= position_dodge(.5), show.legend = FALSE) %&gt;%
  gf_labs(color = &quot;PhD&quot;, x = &quot;Gender (reversed)&quot;, title = &quot;Reverse Y and X&quot;, subtitle = &quot;scale_y_reverse() &amp;\nscale_x_discrete(limits = rev) &quot;, y = &quot;Salary (reversed)&quot;) %&gt;%
  gf_refine(
    scale_color_discrete(labels = c(&quot;0&quot; = &quot;No PhD&quot;, &quot;1&quot; = &quot;PhD&quot;)),
    scale_y_reverse(), # Reverse Y axis continuous scale
    scale_x_discrete(limits = rev)) # Reverse X axis discrete scale

grid.arrange(original, both.reverse, nrow = 1)</code></pre>
<p><img src="AxisRange_files/figure-html/unnamed-chunk-13-3.png" width="672" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
